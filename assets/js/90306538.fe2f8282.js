"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[6419],{243(e,n,r){r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"t-lib/utilities","title":"Utilities API","description":"T_Lib provides comprehensive utility functions and constants to simplify robotics programming. This includes wheel size constants, convenient aliases for PROS enums, unit conversion helpers, and type-safe percentage operations.","source":"@site/docs/t-lib/utilities.md","sourceDirName":"t-lib","slug":"/t-lib/utilities","permalink":"/T_Lib/docs/t-lib/utilities","draft":false,"unlisted":false,"editUrl":"https://github.com/Brody9185/T_Lib/tree/main/website/docs/t-lib/utilities.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"T_Motor API","permalink":"/T_Lib/docs/t-lib/t-motor"}}');var t=r(4848),s=r(8453);const a={},l="Utilities API",c={},o=[{value:"Wheel Sizes",id:"wheel-sizes",level:2},{value:"4-inch Wheels",id:"4-inch-wheels",level:3},{value:"3.25-inch Wheels",id:"325-inch-wheels",level:3},{value:"3-inch and Smaller Wheels",id:"3-inch-and-smaller-wheels",level:3},{value:"Example: Odometry Calculation",id:"example-odometry-calculation",level:3},{value:"Aliases",id:"aliases",level:2},{value:"Motor Gearsets",id:"motor-gearsets",level:3},{value:"Motor Brake Modes",id:"motor-brake-modes",level:3},{value:"Encoder Units",id:"encoder-units",level:3},{value:"Example",id:"example",level:3},{value:"Unit Conversion",id:"unit-conversion",level:2},{value:"Distance Conversion",id:"distance-conversion",level:3},{value:"inches_to_mm",id:"inches_to_mm",level:4},{value:"mm_to_inches",id:"mm_to_inches",level:4},{value:"Angle Conversion",id:"angle-conversion",level:3},{value:"degrees_to_radians",id:"degrees_to_radians",level:4},{value:"radians_to_degrees",id:"radians_to_degrees",level:4},{value:"Example: Odometry with Unit Conversion",id:"example-odometry-with-unit-conversion",level:3},{value:"Percentage Type",id:"percentage-type",level:2},{value:"Percentage Class",id:"percentage-class",level:3},{value:"Custom Literal Operator",id:"custom-literal-operator",level:3},{value:"Operations",id:"operations",level:3},{value:"Example: Motor Control with Percentages",id:"example-motor-control-with-percentages",level:3},{value:"Mathematical Constants",id:"mathematical-constants",level:2},{value:"Complete Example: Advanced Odometry",id:"complete-example-advanced-odometry",level:2},{value:"Quick Reference Table",id:"quick-reference-table",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"utilities-api",children:"Utilities API"})}),"\n",(0,t.jsx)(n.p,{children:"T_Lib provides comprehensive utility functions and constants to simplify robotics programming. This includes wheel size constants, convenient aliases for PROS enums, unit conversion helpers, and type-safe percentage operations."}),"\n",(0,t.jsx)(n.h2,{id:"wheel-sizes",children:"Wheel Sizes"}),"\n",(0,t.jsx)(n.p,{children:"T_Lib includes accurate measured diameter constants for common VEX wheels. These values are in inches and can be used for odometry calculations and distance conversions."}),"\n",(0,t.jsx)(n.h3,{id:"4-inch-wheels",children:"4-inch Wheels"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cpp",children:"using namespace T_Lib::util::Wheel_Size;\r\n\r\ndouble diameter = Omni_4in;       // 4.20070012 inches\r\ndiameter = Trac_4in;              // 4.000 inches\r\ndiameter = Trac_Flex_4in;         // 4.000 inches\r\ndiameter = Mech_4in;              // 4.000 inches (Mecanum)\n"})}),"\n",(0,t.jsx)(n.h3,{id:"325-inch-wheels",children:"3.25-inch Wheels"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cpp",children:"double diameter = Omni_325in;     // 3.250 inches\r\ndiameter = Trac_325in;            // 3.250 inches\n"})}),"\n",(0,t.jsx)(n.h3,{id:"3-inch-and-smaller-wheels",children:"3-inch and Smaller Wheels"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cpp",children:'double diameter = Trac_Flex_3in;  // 3.000 inches\r\ndiameter = Omni_275;              // 2.8545712802768 inches (2.75")\r\ndiameter = Trac_275;              // 2.750 inches\r\n\r\ndouble diameter = Omni_2;         // 2.031548819 inches\r\ndiameter = Trac_2;                // 2.000 inches\r\ndiameter = Trac_Flex_2;           // 2.000 inches\r\ndiameter = Mech_2;                // 2.000 inches (Mecanum)\r\n\r\ndouble diameter = Trac_Flex_1625in;  // 1.625 inches\n'})}),"\n",(0,t.jsx)(n.h3,{id:"example-odometry-calculation",children:"Example: Odometry Calculation"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cpp",children:'#include "T_Lib/api.hpp"\r\n\r\ndouble calculateDistance(int encoder_counts) {\r\n    // Using a 4" diameter wheel\r\n    double wheel_diameter = T_Lib::util::Wheel_Size::Trac_4in;\r\n    double circumference = M_PI * wheel_diameter;\r\n    \r\n    // Assuming 360 counts per revolution\r\n    double distance_inches = (encoder_counts / 360.0) * circumference;\r\n    \r\n    return distance_inches;\r\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"aliases",children:"Aliases"}),"\n",(0,t.jsx)(n.p,{children:"Convenient abbreviated names for common PROS enumerations."}),"\n",(0,t.jsx)(n.h3,{id:"motor-gearsets",children:"Motor Gearsets"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cpp",children:"using namespace T_Lib::util::Aliases;\r\n\r\npros::v5::MotorGears gearset = Blue;    // 600 RPM\r\ngearset = Green;                         // 200 RPM\r\ngearset = Red;                           // 100 RPM\n"})}),"\n",(0,t.jsx)(n.h3,{id:"motor-brake-modes",children:"Motor Brake Modes"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cpp",children:"pros::v5::MotorBrake brake = Hold;      // Actively resist movement\r\nbrake = Brake;                           // Short motor terminals\r\nbrake = Coast;                           // Motor spins freely\n"})}),"\n",(0,t.jsx)(n.h3,{id:"encoder-units",children:"Encoder Units"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cpp",children:"pros::v5::MotorEncoderUnits units = Counts;      // Raw encoder counts\r\nunits = Degrees;                                 // 0-360 degrees\r\nunits = Rotations;                              // Full rotations\n"})}),"\n",(0,t.jsx)(n.h3,{id:"example",children:"Example"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cpp",children:'#include "T_Lib/api.hpp"\r\n\r\nT_Lib::T_Motor motor(1, T_Lib::util::Aliases::Green);  // 200 RPM gearset\r\nmotor.setBrakeMode(T_Lib::util::Aliases::Hold);\n'})}),"\n",(0,t.jsx)(n.h2,{id:"unit-conversion",children:"Unit Conversion"}),"\n",(0,t.jsx)(n.p,{children:"Helper functions for converting between common units."}),"\n",(0,t.jsx)(n.h3,{id:"distance-conversion",children:"Distance Conversion"}),"\n",(0,t.jsx)(n.h4,{id:"inches_to_mm",children:"inches_to_mm"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cpp",children:"double mm = T_Lib::util::unitConversion::inches_to_mm(4.0);\r\n// mm = 101.6\n"})}),"\n",(0,t.jsx)(n.h4,{id:"mm_to_inches",children:"mm_to_inches"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cpp",children:"double inches = T_Lib::util::unitConversion::mm_to_inches(101.6);\r\n// inches = 4.0\n"})}),"\n",(0,t.jsx)(n.h3,{id:"angle-conversion",children:"Angle Conversion"}),"\n",(0,t.jsx)(n.h4,{id:"degrees_to_radians",children:"degrees_to_radians"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cpp",children:"double radians = T_Lib::util::unitConversion::degrees_to_radians(180.0);\r\n// radians \u2248 3.14159 (\u03c0)\n"})}),"\n",(0,t.jsx)(n.h4,{id:"radians_to_degrees",children:"radians_to_degrees"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cpp",children:"double degrees = T_Lib::util::unitConversion::radians_to_degrees(M_PI);\r\n// degrees = 180.0\n"})}),"\n",(0,t.jsx)(n.h3,{id:"example-odometry-with-unit-conversion",children:"Example: Odometry with Unit Conversion"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cpp",children:'#include "T_Lib/api.hpp"\r\n\r\nstruct Pose2D {\r\n    double x_mm, y_mm, theta_rad;\r\n};\r\n\r\nPose2D calculatePose(int left_counts, int right_counts, int imu_angle) {\r\n    using namespace T_Lib::util;\r\n    \r\n    // Calculate distance traveled\r\n    double wheel_diameter = Wheel_Size::Trac_4in;\r\n    double distance_inches = (left_counts / 360.0) * M_PI * wheel_diameter;\r\n    \r\n    // Convert to mm\r\n    double distance_mm = unitConversion::inches_to_mm(distance_inches);\r\n    \r\n    // Convert IMU angle to radians\r\n    double theta_rad = unitConversion::degrees_to_radians(imu_angle);\r\n    \r\n    return {\r\n        distance_mm * cos(theta_rad),\r\n        distance_mm * sin(theta_rad),\r\n        theta_rad\r\n    };\r\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"percentage-type",children:"Percentage Type"}),"\n",(0,t.jsxs)(n.p,{children:["T_Lib provides a type-safe ",(0,t.jsx)(n.code,{children:"Percentage"})," class with custom literal operators for safely handling percentage values."]}),"\n",(0,t.jsx)(n.h3,{id:"percentage-class",children:"Percentage Class"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cpp",children:"struct Percentage {\r\n    double value_perc;  // Value from 0.0 to 100.0 (clamped)\r\n    \r\n    // Constructor (clamps value to 0-100)\r\n    explicit Percentage(double value);\r\n    \r\n    // Apply percentage to a base value\r\n    double applyTo(double base) const;\r\n    \r\n    // Operators\r\n    Percentage operator+(const Percentage& other) const;\r\n    Percentage operator*(double scalar) const;\r\n    friend Percentage operator*(double scalar, const Percentage& perc);\r\n};\n"})}),"\n",(0,t.jsx)(n.h3,{id:"custom-literal-operator",children:"Custom Literal Operator"}),"\n",(0,t.jsxs)(n.p,{children:["Use the ",(0,t.jsx)(n.code,{children:"_perc"})," suffix to create percentage values concisely:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cpp",children:'using T_Lib::util::units::percentage_literals::operator"" _perc;\r\n\r\n// Create percentages using custom literals\r\nauto perc1 = 50_perc;        // 50%\r\nauto perc2 = 100.0_perc;     // 100%\r\nauto perc3 = (-10)_perc;     // Clamped to 0%\r\nauto perc4 = 150_perc;       // Clamped to 100%\n'})}),"\n",(0,t.jsx)(n.h3,{id:"operations",children:"Operations"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cpp",children:"using namespace T_Lib::util::units::percentage_literals;\r\n\r\nauto perc1 = 30_perc;\r\nauto perc2 = 20_perc;\r\n\r\n// Add percentages\r\nauto sum = perc1 + perc2;    // 50%\r\n\r\n// Multiply by scalar\r\nauto scaled = perc1 * 2.0;   // 60%\r\nauto left_mult = 2.0 * perc1; // 60%\r\n\r\n// Apply to a base value\r\ndouble base_voltage = 12000;  // mV\r\ndouble result = (75_perc).applyTo(base_voltage);  // 9000 mV\n"})}),"\n",(0,t.jsx)(n.h3,{id:"example-motor-control-with-percentages",children:"Example: Motor Control with Percentages"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cpp",children:'#include "T_Lib/api.hpp"\r\n\r\nvoid motorDemo() {\r\n    using namespace T_Lib::util::units::percentage_literals;\r\n    \r\n    T_Lib::T_Motor motor(1);\r\n    \r\n    // Set power using percentage literals\r\n    motor.setTargetPercent(75_perc);    // 75% power\r\n    \r\n    // Clamping prevents invalid values\r\n    auto invalid = 150_perc;  // Clamped to 100%\r\n    motor.setTargetPercent(invalid);\r\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"mathematical-constants",children:"Mathematical Constants"}),"\n",(0,t.jsx)(n.p,{children:"T_Lib defines the mathematical constant \u03c0:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cpp",children:"#ifndef M_PI\r\n#define M_PI 3.14159265358979323846\r\n#endif\n"})}),"\n",(0,t.jsx)(n.p,{children:"Use this for wheel diameter calculations and circular motion:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cpp",children:"double wheel_diameter = 4.0;  // inches\r\ndouble circumference = M_PI * wheel_diameter;  // \u03c0 \xd7 d\n"})}),"\n",(0,t.jsx)(n.h2,{id:"complete-example-advanced-odometry",children:"Complete Example: Advanced Odometry"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cpp",children:'#include "main.h"\r\n#include "T_Lib/api.hpp"\r\n#include <cmath>\r\n\r\nclass OdometryCalculator {\r\nprivate:\r\n    using namespace T_Lib::util;\r\n    \r\n    double wheel_diameter_inches;\r\n    double counts_per_rotation;\r\n    \r\npublic:\r\n    struct Pose2D {\r\n        double x_mm = 0;\r\n        double y_mm = 0;\r\n        double theta_degrees = 0;\r\n    };\r\n    \r\n    OdometryCalculator() \r\n        : wheel_diameter_inches(Wheel_Size::Trac_4in),\r\n          counts_per_rotation(360.0) {}\r\n    \r\n    Pose2D calculatePose(int left_counts, int right_counts, double imu_angle) {\r\n        // Calculate distances traveled\r\n        double left_distance = (left_counts / counts_per_rotation) \r\n                             * M_PI * wheel_diameter_inches;\r\n        double right_distance = (right_counts / counts_per_rotation) \r\n                              * M_PI * wheel_diameter_inches;\r\n        \r\n        // Average distance\r\n        double avg_distance = (left_distance + right_distance) / 2.0;\r\n        \r\n        // Convert to mm\r\n        double distance_mm = unitConversion::inches_to_mm(avg_distance);\r\n        \r\n        // Convert angle to radians\r\n        double theta_rad = unitConversion::degrees_to_radians(imu_angle);\r\n        \r\n        // Calculate position\r\n        Pose2D pose;\r\n        pose.x_mm = distance_mm * cos(theta_rad);\r\n        pose.y_mm = distance_mm * sin(theta_rad);\r\n        pose.theta_degrees = imu_angle;\r\n        \r\n        return pose;\r\n    }\r\n};\r\n\r\nvoid autonomous() {\r\n    OdometryCalculator odom;\r\n    T_Lib::T_Motor left_enc(1), right_enc(2);\r\n    \r\n    printf("Initial: X=%.2f, Y=%.2f, Theta=%.2f\\n", 0.0, 0.0, 0.0);\r\n    \r\n    while (true) {\r\n        auto pose = odom.calculatePose(\r\n            (int)left_enc.getPosition(),\r\n            (int)right_enc.getPosition(),\r\n            0.0  // IMU angle\r\n        );\r\n        \r\n        printf("X=%.2f mm, Y=%.2f mm, Theta=%.2f deg\\n", \r\n               pose.x_mm, pose.y_mm, pose.theta_degrees);\r\n        \r\n        pros::delay(50);\r\n    }\r\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"quick-reference-table",children:"Quick Reference Table"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Category"}),(0,t.jsx)(n.th,{children:"Item"}),(0,t.jsx)(n.th,{children:"Value/Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Gearsets"})}),(0,t.jsx)(n.td,{children:"Blue"}),(0,t.jsx)(n.td,{children:"600 RPM"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{children:"Green"}),(0,t.jsx)(n.td,{children:"200 RPM"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{children:"Red"}),(0,t.jsx)(n.td,{children:"100 RPM"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Brake"})}),(0,t.jsx)(n.td,{children:"Hold"}),(0,t.jsx)(n.td,{children:"Active resistance"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{children:"Brake"}),(0,t.jsx)(n.td,{children:"Passive brake"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{children:"Coast"}),(0,t.jsx)(n.td,{children:"Free spin"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Common Wheels"})}),(0,t.jsx)(n.td,{children:'4" Traction'}),(0,t.jsx)(n.td,{children:"4.0 inches"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{children:'4" Omni'}),(0,t.jsx)(n.td,{children:"4.201 inches"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{children:'3.25" Traction'}),(0,t.jsx)(n.td,{children:"3.25 inches"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{children:'2" Traction'}),(0,t.jsx)(n.td,{children:"2.0 inches"})]})]})]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453(e,n,r){r.d(n,{R:()=>a,x:()=>l});var i=r(6540);const t={},s=i.createContext(t);function a(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);